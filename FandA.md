# 利用条件・その他のQ&A

## Berrycake.js の使い方についてのQ&A

### Q1: どのブラウザでも動きますか？
Chrome, Edge, Firefox, Opera, Safariは動作確認済みです。  
ただし、これらのブラウザでも設定次第では動作しないことがあります。  
特に設定ファイルの読み込みや名前変換の自動出力はサーバー上でないと動かないのでご注意ください。

---

### Q2: スマホでもスクリプトは動きますか？
全てのスマホで試したわけではありませんが、Android/iOSのChrome, Edge, Firefox, OperaとiOSのSafariでは登録と表示ができることを確認しています。  
端末の設定次第では動作しないこともあるかもしれません。

---

### Q3: カスタム変換の動きはどこから確認できますか？
現在はカスタムコードの動作が確認できるページを用意していません。  
色々と落ち着いたら作るかもしれません。

---

### Q4: 解説に誤字脱字があるようですが、どこに連絡すればよいですか？
解説の誤字脱字、Berrycakeのバグは公式サイトへご一報ください。

---

### Q5: 一時登録機能って何ですか？ 普通の登録と何が違うのですか？
登録と一時登録はどちらもブラウザに保存する機能ですが、データの期限が違います。  
技術者向けの言葉でいうと、登録ではLocalStorageに保存し、一時登録ではSessionStorageに保存しています。  
「登録」は容量がある限りブラウザの履歴を削除したりアンインストールするまでデータが残りますが、「一時登録」はタブを閉じたときやページを閉じたときにクリアされます。  
どちらにしても、Cookieのように保存内容がサーバへ送信されることはありません。

---

### Q6: 一時登録時のメッセージ「一時登録しました」を変えるにはどうしたらいいですか？
スクリプト本体 の `static sessionString = '一時登録しました';` の値を書きかえてください。  
※スクリプト本体のJavaScript変更は基本的にサポートしていません。慎重に変更してください。

---

### Q7: 自作のJavaScriptの処理の後、自分の好きなタイミングでBerrycakeを動作させることはできますか？
Berrycakeは読み込まれた時点で自動的に一通りの処理をします。  
スクリプト本体を読み込んだ後にお手元のJavaScriptの中で `Berrycake.run();` と書くことで呼び出せますが、Berrycakeは名前登録と削除処理で画面の再読み込みを行っています。その点を踏まえた上で慎重にご利用ください。  
他の処理の内容によっては動かない等ありますので、プログラミングの知識がある方のみお使いください。

---

### Q8: 1つの項目につき50文字しか登録できないのですが、増やせますか？
読み手さんの操作ミスで端末に負担をかけないよう、初期設定では50文字までしか登録できないようになっています。  
登録できる文字数を増減させるには、スクリプト本体の `static maxSize = 50;` の数値を書き換える必要があります。  
例として、100文字まで登録できるようにするなら `static maxSize = 100;` と書きます。  
※スクリプト本体のJavaScript変更は基本的にサポートしていません。慎重に変更してください。

---

### Q9: ブラウザの設定でLocalStorage、SessionStorageのどちらも無効になっていても使えますか？
Berrycakeではこれらが無効になっている場合、名前変換ができません。

---

### Q10: ブラウザの設定でLocalStorage、SessionStorageのどちらも無効になっていることを通知できますか？
スクリプト本体の特定の値を変更すると、ブラウザのアラートで「Web Storageが利用できません。ブラウザの設定を確認してください。」と表示することが可能です。  
`static showStorageError = 0;` を `static showStorageError = 1;` に変更すると、無効時にアラートが表示されます。  
※スクリプト本体のJavaScript変更は基本的にサポートしていません。慎重に変更してください。

---

### Q11: 名前削除時にページを再読み込みしないようにするにはどうしたらいいですか？
Berrycake.jsでは現在、再読み込みを止められるようには作っていません。  
Berrycake.jsは一定範囲内の文字を直接上書きしています。特に、再登録をした場合等に変換できなくなってしまうので、これを防ぐために登録と削除時は再読み込みを行っています。

---

### Q12: 変換対応タグを増やすことはできますか？
スクリプト本体の `addTag` にタグを追加することで、変換対応タグを増やすことが出来ます。  
例として、buttonタグ内の文字も変換対象にしたい場合は、以下のように書くとボタンタグも変換対象になります：

```javascript
addTag = [
  'button',
  '',
  '',
];
```
※思わぬ動作をするかもしれないので、追加した場合は念入りに動作確認してください。  
※スクリプト本体のJavaScript変更は基本的にサポートしていません。慎重に変更してください。

---

### Q13: 同じサイト（ドメインが同じサイト）の中で複数のBerrycake.jsを使うことはできますか？

スクリプト本体の編集が必要ですが、同じサイトの中で複数のBerrycake.jsを使うことは可能です。  
「`static storageKeyName = 'berrycake';`」の`berrycake`という文字を別の文字に変更し、フォルダやファイル名を変えて別のファイルとして保存します。  
もしフォルダを変更するときは、「`berrycake_recipe.conf`」も忘れずに新フォルダへ作成してください。  

必要に応じて呼び出すスクリプトを変更することで、別のデータとして登録することができます。  
ただし、**同一のページの中で複数のスクリプト本体を同時に使うことはできない**ので、それぞれ違うページで使ってください。  

同じフォルダの中で複数のスクリプトファイルと複数の設定ファイルをまとめて管理する場合、スクリプトの「`static nameList = 'berrycake_recipe.conf';`」を変更して呼び出す設定ファイルを適宜変更してください。  
※スクリプト本体のJavaScript変更は基本的にサポートしていません。慎重に変更してください。

### Q14: jQueryやPHPのサイトでも動きますか？

はい、動きます。  
JavaScriptを実行できる環境であれば他のライブラリ、フレームワーク、サーバーサイドの環境に関わらず動きます。  
jQuery等のライブラリやVue等のフレームワークを使用していたり、WordPress等のPHP環境でも基本的には動きます。

---

### Q15: berrycake.jsのファイル名を変えても動きますか？

berrycakeから始まって.jsで終わるファイル名になら変更できますが、その他の名前に変えると動きません。  
読み込んでいるページからberrycake.jsのファイルパスをチェックし、そのパスをもとに設定ファイルを読み込む処理があります。  
そのため、ファイル名が大きく変わってしまうと様々な処理に影響が出て動かなくなります。

---

### Q16: バージョンアップでスクリプトを入れ替えましたが反映されません。どうしたらいいですか？

ブラウザが古いコードをキャッシュしているので、スクリプト読み込みコードにパラメータを追加します。  
例：  
```html
<script src="berrycake.js?v=20240606"></script>
```
「?○○○=●●●」部分がパラメータといい、同じファイル名でもパラメータが違えばブラウザには異なるファイルとして認識させることができます。  
更新前とは違う文字になっていれば何でも良いです。バージョン番号や日付にすると後で管理しやすいかと思います。  
全てのページで変えるのが難しくても、名前変換ページなどの誰もが見るページで上記のようにしておけば、そのページを見たときに新しい本体スクリプトがキャッシュされます。

サーバの設定やサーバーサイドコーディングでもキャッシュをクリアできます。  
PHPで動的にページを出力できるサイトでしたら以下のようにしておくと毎日新しくキャッシュされます。
```php
<?php $dateParam = date('Ymd'); ?>
<script src="berrycake.js?v=<?= $dateParam; ?>"></script>
```

---

### Q17: サーバーにアップロードしないで名前変換を動かすことはできますか？
JavaScriptの編集が必要ですが、v1.4.0からサーバー上でなくても名前変換を動かせるようになりました。  
設定ファイルではなく、スクリプト本体の中に直接デフォルトネームを書いておき、設定値を変更すれば名前変換ができるようになります。  
設定するのは次の3点の関連項目です。
1. デフォルトネームリスト
2. 名前入力フォームのラベル ※フォーム自動出力を使う場合のみ
3. 設定ファイルを使う、という設定値の変更

1はスクリプト本体のこの部分です。cake●: "デフォルト値", という規則で項目追加もできます。  
```javascript
  static name = {
    cake1: "実小麦",
    cake2: "蜜花",
    cake3: "みこむぎ",
    cake4: "みつか",
  };
```

2のラベルはこちらを編集します。label●: "表示内容", という規則で項目追加もできます。
```javascript
  static label = {
    label1: "苗字",
    label2: "名前",
    label3: "みょうじ",
    label4: "なまえ",
  }
```

3の設定は「static useConf = 1;」の部分です。これが1だと設定ファイル読み込み、0ならスクリプトの上記の箇所を読み込むので、0にします。  
サーバなし動作確認をするための設定は以上です。  
JavaScriptファイルを書き換えた後はブラウザのキャッシュをクリアすることをおすすめします。

---

## 利用条件・その他のQ&A

### Q1: どんなサイトでも使用していいですか？

ライセンスの条件を守った使い方であれば誰でもご自由にお使いいただけます。(ライセンス発行：2024年2月22日)

---

### Q2: 無料で使えますか？

はい、商用・非商用どちらの場合も使用料はいただいていません。

---

### Q3: 同人サイトで使っていいですか？

はい、同人サイトでもBerrycake.jsはお使いいただけます。  
同人コンテンツの創作や活動内容が許可されているかどうかは、ご利用中のサーバやサービスの利用規約をご確認ください。

---

### Q4: 成人向けコンテンツのあるサイトで使っていいですか？

はい、ライセンスの条件を守っていただければBerrycake.jsはご自由にお使いいただけます。  
成人向けコンテンツの創作や活動内容が許可されているかどうかは、ご利用中のサーバやサービスの利用規約をご確認ください。

---

### Q5: ゲームのパッケージやWebサイトテンプレートに同梱して配布していいですか？

はい、同梱で配布することは可能です。商用・非商用問わず、ご自身の独自のコンテンツがしっかりとあるものに同梱して配布することは問題ありません。

---

### Q6: ライセンスの「商用利用または再配布時は、重要な部分に著作者表示と公式の配布元を記載すること」の具体的な記載例を教えてください。

Webサイトでしたら配布ページやabout等の紹介ページに、何らかの配布パッケージでしたらライセンス情報等をまとめた資料に、以下のように記載してください。

```html
Berrycake.js Copyright (c) Mizuna Shima https://lanama.net/scripts/berrycake/
```
これは一例なので、日本語で書いたりリンクを貼っていただく形でもOKです。

---

### Q7: ライセンスの「ファイル内のクレジットおよびライセンス文章を削除しないこと」とはどういう意味ですか？

スクリプト本体ファイル「berrycake.js」の先頭にあるコメント（ライセンス文章）を削除しないでください、という意味です。  
Berrycake.jsをご自身で改修して使う場合でも、この部分は削除や変更をしないでください。

---

### Q8: ライセンスの「本スクリプト、および本スクリプトが主体の製品を販売しないこと」とはどういう意味ですか？

Berrycake.jsをゲームやテンプレートに含めて販売をすることは可能ですが、Berrycake.jsだけを販売することはできません。  
（ご自身のコンテンツと同梱の場合はOKです）  

以下についても同様に許可されません。  
- Berrycake.jsをそのまま、またはわずかな変更を加えて販売すること  
- このサイトにある解説とBerrycake.js関連ファイルをセットにして販売すること  
- 金銭が発生していなくても、何らかの対価としてBerrycake.jsを提供すること  

---

### Q9: ライセンスの「本スクリプトの保存データを用いて金銭の請求または物品の要求をしないこと」とはどういうことですか？

Berrycake.jsで生成したテキストや、Berrycake.jsで登録したデータを請求や決済に使用することを禁止しています。  
Berrycake.jsは請求書や領収書の宛先などに使用することはできません。  
ご自身のサイト内で請求や要求を行う場合はBerrycake.jsを使わずに行ってください。

---

### Q10: リンクは必要ですか？

商用利用と再配布でない場合は、リンクは任意です。

---

### Q11: 利用報告は必要ですか？

こっそり使ってもらってOKです。もちろん、利用報告を頂ければこっそり遊びに行って励みにします。

---

### Q12: Berrycake.jsを紹介してもいいですか？

どうぞ！

---

### Q13: サンプルのHTMLファイルやCSSファイルを自分のサイトで使ってもいいですか？

どうぞお使いください。改変もご自由にどうぞ。  
ただし、多くの方に使っていただきたいと考えているため、自作発言はしないでください。  

berrycake.cssには `<div id="cakeMix"></div>` で自動出力するフォームのスタイル設定が含まれているので、ご入用でしたらお使いくださいませ。  
グレー調のCSSは公式サイトのQ&Aで配布しています。
